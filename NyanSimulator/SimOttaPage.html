<!DOCTYPE html>
<html>
    <head>
    <title> SimOtta </title>
    <link rel="stylesheet" type="text/css" href="SimOtta.css">
    <script src="JavaScript/jquery.min.js"></script>
    <script src="JavaScript/jquery-ui.min.js"></script>
    <script src='JavaScript/sql.js'>

    </script>


    <script type='text/javascript' src='JavaScript/SimOtta.js'></script>
   	</head>
	<body class = "nyan">
		<div class = "sa3d"></div>
	    <h3 id= "deviceInfo"> </h3>
	    <button type="button" id="feedButton">Feed Now</button>

        <input type="file" id="files" name="files[]" multiple />
    <output id="list"></output>
    <script>
      var start;
      var end;
      var time;
      function handleFileSelect(evt) {
        var files = evt.target.files; // FileList object

        // Loop through the FileList
        for (var i = 0, f; f = files[i]; i++) {

        var reader = new FileReader();
        reader.onload = (function(theFile) {
            return function(e) {
                    var Uints = new Uint8Array(e.target.result);
                    var db = new SQL.Database(Uints);
                   var res = db.exec("SELECT * FROM events");
                    start = res[0].values[1][3];
                     end = res[0].values[1][4];
                     time = res[0].values[1][5];
                     time = time.substring(11,16);
                   console.log("starts at: " + start);
                   console.log("ends at: " + end);
                   console.log("time: " + time);

            };
        })(f);
                  reader.readAsArrayBuffer(f);
        }

    document.getElementById('files').addEventListener('change', handleFileSelect, false);
  }
    </script>
<div class="clock">
<div class = "clock" id="Date" style="margin-left:-1px;">

</div>
  <ul>
      <li id="hours"></li>
      <li id="point">:</li>
      <li id="min"></li>
      <li id="point">:</li>
      <li id="sec"></li>
  </ul>
</div>
    <script type="text/javascript">
$(document).ready(function() {
// Create two variable with the names of the months and days in an array
var monthNames = [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ]; 
var dayNames= ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]
var seconds = 0;
var minutes = 0;
var hours = 0;

// Create a newDate() object
var newDate = new Date();
// Extract the current date from Date object
newDate.setDate(newDate.getDate());
// Output the day, date, month and year   
$('#Date').html(dayNames[newDate.getDay()] + " " + newDate.getDate() + ' ' + monthNames[newDate.getMonth()] + ' ' + newDate.getFullYear());

setInterval( function() {
  // Create a newDate() object and extract the seconds of the current time on the visitor's
seconds++;
  // Add a leading zero to seconds value
  $("#sec").html( seconds);
  $("#min").html(minutes);
  $("#hours").html(hours);
 if (seconds == 60)
{
  minutes++;
}
if (minutes == 60)
{
  hours++;
}
minutes = minutes < 60 ? minutes : 0;
seconds = seconds < 60 ? seconds : 0;
hours = hours < 24 ? hours : 0;
$("#sec").html(( seconds < 10 ? "0" : "" ) + seconds);
$("#min").html(( minutes < 10 ? "0" : "" ) + minutes);
 $("#hours").html(( hours < 10 ? "0" : "" ) + hours);
 
  },0.00000005);

});
</script>
	</body>

</html>`